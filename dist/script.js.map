{"version":3,"sources":["modules/imageResult.js","modules/mealsConverter.js","modules/recepieResult.js","modules/Ingredients.js","modules/singleMealConverter.js","script.js"],"names":["ImageResult","imageInfor","imagelink","mealId","imageLink","imageInfo","module","exports","require","mealsToImageResultConverter","mealsResponse","meals","map","meal","strMeal","idMeal","strMealThumb","mealsToImageResultHTMLConverter","imageResults","i","toHTML","reduce","a","b","RecepieResult","recepieName","recepieImageLink","recepieTag","recepieMethod","recepieIngredients","html","getRecepieTag","getRecepieIngredientsHtml","undefined","getIngredientName","getIngredientQuantity","Ingredient","ingredientName","ingredientQuantity","singleMealConverter","mealInfo","strTags","strInstructions","ingredients","push","ingredientKey","quantityKey","elSearchBar","elSearchButton","elRandomRecepie","elImageSearchResult","elRecepieContainer","mealsResponseConverter","singleMealResponseConverter","init","initDomRefferneces","setupEventListeners","resetDomValues","document","querySelector","addEventListener","searchEVLWrapper","searchEvL","afterFunc","searchText","getSearchText","searchResult","fetch","then","r","json","response","setAndReturnHtml","querySelectorAll","forEach","el","searchRecepie","event","getMealId","target","mealResponse","toHTMl","scrollTop","scrollHeight","value","element","innerHTML","getAttribute","window","onload","console","log","setInterval","elem"],"mappings":"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","file":"script.js","sourceRoot":"..\\src\\script","sourcesContent":["class ImageResult {\r\n  constructor(imageInfor, imagelink, mealId) {\r\n    this.imageLink = imagelink;\r\n    this.imageInfo = imageInfor;\r\n    this.mealId = mealId;\r\n  }\r\n  toHTML() {\r\n    return `<div class=\"imageResult\"><img src=\"${this.imageLink}\" alt=\"${this.imageInfo}\" mealId=\"${this.mealId}\"><div class=\"imageInfo\" mealId=\"${this.mealId}\"><h3 mealId=\"${this.mealId}\">${this.imageInfo}</h3></div></div>`;\r\n  }\r\n}\r\nmodule.exports = ImageResult;\r\n","const ImageResult = require(\"./imageResult\");\r\nvar mealsToImageResultConverter = (mealsResponse) => {\r\n  return mealsResponse.meals.map((meal) => {\r\n    let imageInfor = meal.strMeal;\r\n    let mealId = meal.idMeal;\r\n    let imageLink = meal.strMealThumb;\r\n    return new ImageResult(imageInfor, imageLink, mealId);\r\n  });\r\n};\r\nvar mealsToImageResultHTMLConverter = (mealsResponse) => {\r\n  let imageResults = mealsToImageResultConverter(mealsResponse);\r\n  return imageResults.map((i) => i.toHTML()).reduce((a, b) => a + b);\r\n};\r\nmodule.exports = mealsToImageResultConverter;\r\n","class RecepieResult {\r\n  constructor(\r\n    recepieName,\r\n    recepieImageLink,\r\n    recepieTag,\r\n    recepieMethod,\r\n    recepieIngredients\r\n  ) {\r\n    this.recepieName = recepieName;\r\n    this.recepieImageLink = recepieImageLink;\r\n    this.recepieTag = recepieTag;\r\n    this.recepieMethod = recepieMethod;\r\n    this.recepieIngredients = recepieIngredients;\r\n  }\r\n  toHTMl() {\r\n    let html =\r\n      `<div class=\"recepieName\">` +\r\n      `<h3>${this.recepieName}</h3></div>` +\r\n      `<img class=\"recepieImage\" src=\"${this.recepieImageLink}\" alt=\"${this.recepieName}\">` +\r\n      this.getRecepieTag() +\r\n      `<div class=\"recepieMethod\">${this.recepieMethod}</div>` +\r\n      `<div class=\"recepieIngredients\">` +\r\n      this.getRecepieIngredientsHtml() +\r\n      `</div>`;\r\n    // console.log(html)\r\n    return html;\r\n  }\r\n  getRecepieTag() {\r\n    if ((this.recepieTag != null) | (this.recepieTag != undefined)) {\r\n      return `<div class=\"recepieTag\"><h3>${this.recepieTag}</h3></div>`;\r\n    } else return \"\";\r\n  }\r\n  getRecepieIngredientsHtml() {\r\n    // console.log(this.recepieIngredients)\r\n    return this.recepieIngredients\r\n      .map(\r\n        (b) =>\r\n          `<div class=\"recepieIngredient\"><div class=\"ingredientName\">${b.getIngredientName()}</div><div class=\"ingredientQuantity\">${b.getIngredientQuantity()}</div></div>`\r\n      )\r\n      .reduce((a, b) => a + b);\r\n  }\r\n  testFunc() {\r\n    return 10;\r\n  }\r\n}\r\nmodule.exports = RecepieResult;\r\n","class Ingredient{\r\n    constructor(ingredientName, ingredientQuantity){\r\n        this.ingredientName = ingredientName;\r\n        this.ingredientQuantity  = ingredientQuantity;\r\n    }\r\n    getIngredientName(){\r\n        return this.ingredientName;\r\n    }\r\n    getIngredientQuantity(){\r\n        return this.ingredientQuantity\r\n    }\r\n}\r\nmodule.exports = Ingredient","const  RecepieResult = require('./recepieResult')\r\nconst Ingredient = require('./Ingredients')\r\nvar singleMealConverter = (mealInfo)=>{\r\n    mealInfo = mealInfo.meals[0]\r\n    let recepieName = mealInfo.strMeal;\r\n    let recepieImageLink = mealInfo.strMealThumb;\r\n    let recepieTag = mealInfo.strTags;\r\n    let recepieMethod = mealInfo.strInstructions;\r\n    let ingredients = [];\r\n    let ingredientKey = 'strIngredient';\r\n    let quantityKey = 'strMeasure';\r\n    let i = 1;\r\n    while(true){\r\n        // console.log(mealInfo[ingredientKey+i])\r\n        if(mealInfo[ingredientKey+i]!=null && mealInfo[ingredientKey+i]!=undefined && mealInfo[ingredientKey+i]!=''){\r\n            ingredients.push( new Ingredient(mealInfo[`${ingredientKey+i}`], mealInfo[`${quantityKey+i}`]))\r\n        }\r\n        else break;\r\n        i++;\r\n    }\r\n    return new RecepieResult(recepieName, recepieImageLink, recepieTag, recepieMethod, ingredients)\r\n}\r\n\r\nmodule.exports = singleMealConverter","//imports\r\nconst mealsResponseConverter = require(\"./modules/mealsConverter\");\r\nconst singleMealResponseConverter = require(\"./modules/singleMealConverter\");\r\nconst Ingredient = require(\"./modules/Ingredients\");\r\nconst ImageResult = require(\"./modules/imageResult\");\r\nconst RecepieResult = require(\"./modules/recepieResult\");\r\n\r\n//constants\r\n\r\n//dom refferneces\r\nvar elSearchBar;\r\nvar elSearchButton;\r\nvar elRandomRecepie;\r\nvar elImageSearchResult;\r\nvar elRecepieContainer;\r\n//init dom refferences & setup event listeners\r\nvar init = () => {\r\n  initDomRefferneces();\r\n  setupEventListeners();\r\n  resetDomValues();\r\n};\r\n\r\nvar initDomRefferneces = () => {\r\n  elSearchBar = document.querySelector(\".searchBarInput\");\r\n  elSearchButton = document.querySelector(\".search\");\r\n  elRandomRecepie = document.querySelector(\".random\");\r\n  elImageSearchResult = document.querySelector(\".imageSearchResult\");\r\n  elRecepieContainer = document.querySelector(\".recepieContainer\");\r\n};\r\n\r\nvar setupEventListeners = () => {\r\n  elSearchButton.addEventListener(\"click\", searchEVLWrapper);\r\n  elSearchBar.addEventListener(\"input\", searchEVLWrapper);\r\n};\r\n\r\nvar resetDomValues = () => {\r\n  //   elSearchButton;\r\n};\r\n\r\n// event listeners\r\nvar searchEvL = (afterFunc) => {\r\n  searchText = getSearchText();\r\n  if (searchText == \"\") {\r\n    setAndReturnHtml(\"\", elImageSearchResult);\r\n    return;\r\n  }\r\n  searchResult = fetch(\r\n    `https://www.themealdb.com/api/json/v1/1/search.php?s=${searchText}`\r\n  )\r\n    .then((r) => r.json())\r\n    .then((response) => {\r\n      setAndReturnHtml(\r\n        mealsResponseConverter(response)\r\n          .map((i) => i.toHTML())\r\n          .reduce((a, b) => a + b),\r\n        elImageSearchResult\r\n      );\r\n      afterFunc();\r\n    });\r\n};\r\nvar searchEVLWrapper = () => {\r\n  searchEvL(() => {\r\n    document\r\n      .querySelectorAll(\".imageResult\")\r\n      .forEach((el) => el.addEventListener(\"click\", searchRecepie));\r\n  });\r\n};\r\n\r\nvar searchRecepie = (event) => {\r\n  let mealId = getMealId(event.target);\r\n  mealResponse = fetch(\r\n    `https://www.themealdb.com/api/json/v1/1/lookup.php?i=${mealId}`\r\n  )\r\n    .then((r) => r.json())\r\n    .then((response) => {\r\n      setAndReturnHtml(\r\n        singleMealResponseConverter(response).toHTMl(),\r\n        elRecepieContainer\r\n      );\r\n      elRecepieContainer.scrollTop = elRecepieContainer.scrollHeight;\r\n    });\r\n};\r\n\r\nvar getSearchText = () => {\r\n  return elSearchBar.value;\r\n};\r\n\r\nvar setAndReturnHtml = (html, element) => {\r\n  element.innerHTML = html;\r\n  return html;\r\n};\r\nvar getMealId = (element) => {\r\n  return element.getAttribute(\"mealId\");\r\n};\r\n\r\nwindow.onload = init;\r\nconsole.log(\"script run \");\r\nwindow.setInterval(function () {\r\n  var elem = document.querySelector(\".recepieContainer\");\r\n  elem.scrollTop = elem.scrollHeight;\r\n}, 5000);\r\n"]}